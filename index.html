<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Èöè‰æøËßÇÊé®ËçêÁªèËê•ÊñπÊ°à</title>
    <style>
        :root {
            --primary-color: #5e35b1;
            --secondary-color: #7e57c2;
            --accent-color: #ff7043;
            --light-bg: #f5f7fa;
            --dark-text: #333;
            --light-text: #fff;
            --success: #4caf50;
            --warning: #ff9800;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #e0e7ff 0%, #f8f9ff 100%);
            color: var(--dark-text);
            line-height: 1.6;
            padding: 16px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 24px;
            padding: 16px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        h1 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .subtitle {
            color: var(--secondary-color);
            font-size: 1rem;
        }

        .trend-selection {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 24px;
        }

        .selection-heading {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            color: var(--primary-color);
            font-weight: 600;
        }

        .selection-heading i {
            margin-right: 12px;
            font-size: 1.5rem;
            color: var(--accent-color);
        }

        .category-selectors {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
        }

        .category-selector {
            flex: 1 1 200px;
            min-width: 200px;
        }

        .category-selector label {
            display: block;
            margin-bottom: 8px;
            color: var(--secondary-color);
            font-weight: 500;
        }

        .category-selector select {
            width: 100%;
            padding: 12px;
            border: 2px solid #d1c4e9;
            border-radius: var(--border-radius);
            background: white;
            font-size: 1rem;
            color: var(--dark-text);
            transition: all 0.3s;
        }

        .category-selector select:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(94, 53, 177, 0.2);
        }

        .generate-btn {
            display: block;
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--light-text);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 12px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(94, 53, 177, 0.4);
        }

        .results {
            display: none;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-top: 24px;
        }

        .results-header {
            color: var(--success);
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #e8eaf6;
            padding-bottom: 12px;
        }

        .income-value {
            font-size: 1.8rem;
            color: var(--accent-color);
            font-weight: 700;
        }

        .recommended-products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .product-card {
            background: #f3f4fe;
            border-radius: var(--border-radius);
            padding: 16px;
            text-align: center;
            border-left: 4px solid var(--secondary-color);
            transition: all 0.3s;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(126, 87, 194, 0.2);
        }

        .product-price {
            background: var(--success);
            color: white;
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-top: 8px;
            font-weight: 600;
        }

        .strategy {
            margin-top: 24px;
            padding: 16px;
            background: #fff8f1;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--warning);
        }

        .strategy h3 {
            color: var(--warning);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .strategy p {
            line-height: 1.8;
        }

        .product-table-container {
            margin-top: 24px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            overflow-x: auto;
        }

        .table-header {
            color: var(--primary-color);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            min-width: 600px;
        }

        th {
            background: #e8eaf6;
            color: var(--primary-color);
            font-weight: 600;
            padding: 12px;
            text-align: left;
            position: sticky;
            top: 0;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }

        tr:hover td {
            background: #f5f7ff;
        }

        .trend-price {
            color: var(--success);
            font-weight: 600;
        }

        .trend-category {
            background-color: #fff8e1 !important;
            border-left: 3px solid var(--warning);
        }

        .highlight {
            background: #e3f2fd !important;
            font-weight: 600;
            animation: highlight 1.5s ease;
        }

        @keyframes highlight {
            0% {
                background: #fff176;
            }

            100% {
                background: #e3f2fd;
            }
        }

        footer {
            text-align: center;
            margin-top: 40px;
            color: var(--secondary-color);
            font-size: 0.9rem;
            padding: 20px;
        }

        @media (min-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }

            .category-selectors {
                flex-wrap: nowrap;
            }

            .recommended-products {
                grid-template-columns: repeat(4, 1fr);
            }

            .trend-selection {
                padding: 30px;
            }
        }

        @media (max-width: 480px) {
            .selection-heading {
                font-size: 1.1rem;
            }

            .product-card {
                padding: 12px 8px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>Èöè‰æøËßÇË∂ãÂäøÊé®ËçêÁªèËê•ÊñπÊ°à</h1>
        </header>

        <main>
            <section class="trend-selection">
                <div class="selection-heading">
                    <i>üìä</i>
                    <h2>ÈÄâÊã©Ë∂ãÂäøÁ±ªÂà´</h2>
                </div>

                <div class="category-selectors">
                    <div class="category-selector">
                        <label for="category1">Á¨¨‰∏ÄË∂ãÂäøÁ±ªÂà´</label>
                        <select id="category1">
                            <option value="Êú¨ËçâÊñπÂà∂">Êú¨ËçâÊñπÂà∂</option>
                            <option value="ËäÇÁ§ºË¥∫Âπõ">ËäÇÁ§ºË¥∫Âπõ</option>
                            <option value="ËôöÂÆ§Âùê‰øÆ">ËôöÂÆ§Âùê‰øÆ</option>
                            <option value="Á¥†Ë£≥Â≤≥Â±•">Á¥†Ë£≥Â≤≥Â±•</option>
                            <option value="Âô®ÂºïÁôæÂë≥">Âô®ÂºïÁôæÂë≥</option>
                            <option value="Ê∏∏ÊñπÂ∑ßÂô®">Ê∏∏ÊñπÂ∑ßÂô®</option>
                        </select>
                    </div>

                    <div class="category-selector">
                        <label for="category2">Á¨¨‰∫åË∂ãÂäøÁ±ªÂà´</label>
                        <select id="category2">
                            <option value="ËäÇÁ§ºË¥∫Âπõ">ËäÇÁ§ºË¥∫Âπõ</option>
                            <option value="Êú¨ËçâÊñπÂà∂">Êú¨ËçâÊñπÂà∂</option>
                            <option value="ËôöÂÆ§Âùê‰øÆ">ËôöÂÆ§Âùê‰øÆ</option>
                            <option value="Á¥†Ë£≥Â≤≥Â±•">Á¥†Ë£≥Â≤≥Â±•</option>
                            <option value="Âô®ÂºïÁôæÂë≥">Âô®ÂºïÁôæÂë≥</option>
                            <option value="Ê∏∏ÊñπÂ∑ßÂô®">Ê∏∏ÊñπÂ∑ßÂô®</option>
                        </select>
                    </div>
                </div>

                <button class="generate-btn" onclick="calculate()">ÁîüÊàêÁªèËê•ÊñπÊ°à</button>
            </section>

            <section class="results" id="results">
                <div class="results-header">
                    <h2>ÊúÄ‰ºòÁªèËê•ÊñπÊ°à</h2>
                    <div class="income-value" style="display: none;">ÊÄªÊî∂Áõä: <span id="totalIncome">0</span></div>
                </div>

                <div class="recommended-products" id="recommendedProducts">
                    <!-- ‰∫ßÂìÅÂç°ÁâáÂ∞ÜÁî±JSÂä®ÊÄÅÁîüÊàê -->
                </div>

            </section>

            <section class="product-table-container">
                <div class="table-header">
                    <h2><i>üìã</i> ‰∫ßÂìÅÊî∂ÁõäÊï∞ÊçÆË°®</h2>
                </div>
                <table id="productTable">
                    <thead>
                        <tr>
                            <th>Âú∞Âõæ</th>
                            <th>‰∫ßÁâ©</th>
                            <th>Á±ªÂà´</th>
                            <th>Âçï‰ª∑</th>
                            <th>Ë∂ãÂäø‰ª∑Ê†º</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Ë°®Ê†ºÊï∞ÊçÆÁî±JavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </tbody>
                </table>
            </section>
        </main>


    </div>

    <script>
        // ‰∫ßÂìÅÊï∞ÊçÆ
        const products = [
            { map: "1-1", name: "Áõ∏‰ΩçÊ°©", category: "Ê∏∏ÊñπÂ∑ßÂô®", price: 80, trendPrice: 96 },
            { map: "1-2", name: "ÊùæÁÉüÈáú", category: "Âô®ÂºïÁôæÂë≥", price: 81, trendPrice: 97 },
            { map: "1-3", name: "ÂÆà‰∏ÄÁéÑ‰Ω©", category: "ËôöÂÆ§Âùê‰øÆ", price: 82, trendPrice: 98 },
            { map: "2-1", name: "ÈùôÁ¨ÉÊä§ËÖï", category: "Á¥†Ë£≥Â≤≥Â±•", price: 85, trendPrice: 102 },
            { map: "2-2", name: "‰∫ëÈ≠ÑÁê¥ÁÇâ", category: "ËôöÂÆ§Âùê‰øÆ", price: 86, trendPrice: 103 },
            { map: "2-3", name: "‰∫ëÈó®Âûí", category: "ËäÇÁ§ºË¥∫Âπõ", price: 87, trendPrice: 104 },
            { map: "3-1", name: "ÈÜíÂøÉ‰øÉÊÑàÁ¥†", category: "Êú¨ËçâÊñπÂà∂", price: 90, trendPrice: 108 },
            { map: "3-2", name: "ÈïáÂéÑÈù¢", category: "ËäÇÁ§ºË¥∫Âπõ", price: 95, trendPrice: 114 },
            { map: "3-3", name: "ÂºÇÊûÑÊäóÂáùËÜè", category: "Êú¨ËçâÊñπÂà∂", price: 100, trendPrice: 120 }
        ];

        // ÂàùÂßãÂåñÈ°µÈù¢
        function initPage() {
            const tableBody = document.querySelector("#productTable tbody");

            products.forEach(prod => {
                const row = document.createElement("tr");


                row.innerHTML = `
                    <td>${prod.map}</td>
                    <td>${prod.name}</td>
                    <td>${prod.category}</td>
                    <td>${prod.price}</td>
                    <td ${prod.trendPrice ? 'class="trend-price"' : ''}>
                        ${prod.trendPrice || '-'}
                    </td>
                `;

                tableBody.appendChild(row);
            });
        }

        // ËÆ°ÁÆóÊúÄ‰ºòÊñπÊ°à
        function calculate() {
            const category1 = document.getElementById("category1").value;
            const category2 = document.getElementById("category2").value;

            if (category1 === category2) {
                alert("ËØ∑ÈÄâÊã©‰∏§‰∏™‰∏çÂêåÁöÑÁ±ªÂà´");
                return;
            }

            // ËÆ°ÁÆóÊØè‰∏™‰∫ßÂìÅÁöÑÂÆûÈôÖÊî∂ÂÖ•ÔºàË∂ãÂäøÁ±ªÂà´‰ΩøÁî®Ë∂ãÂäø‰ª∑Ôºâ
            products.forEach(prod => {
                prod.actualIncome = (prod.category === category1 || prod.category === category2)
                    ? (prod.trendPrice || 120)
                    : prod.price;
            });

            // ÊåâÊî∂ÂÖ•‰ªéÈ´òÂà∞‰ΩéÊéíÂ∫è
            const sortedProducts = [...products].sort((a, b) => b.actualIncome - a.actualIncome);

            // ÈÄâÊã©Ââç4‰∏™‰∫ßÂìÅ‰Ωú‰∏∫ÊñπÊ°à
            const bestProducts = sortedProducts.slice(0, 4);
            const totalIncome = bestProducts.reduce((sum, prod) => sum + prod.actualIncome, 0);

            // ÊòæÁ§∫ÁªìÊûú
            displayResults(bestProducts, totalIncome, category1, category2);

            // È´ò‰∫ÆË°®Ê†º‰∏≠ÁöÑÊúÄ‰Ω≥‰∫ßÂìÅ
            highlightProducts(bestProducts);
        }

        // ÊòæÁ§∫ÁªìÊûú
        function displayResults(bestProducts, totalIncome, category1, category2) {
            document.getElementById("totalIncome").textContent = totalIncome;

            const container = document.getElementById("recommendedProducts");
            container.innerHTML = '';

            bestProducts.forEach((prod, index) => {
                const card = document.createElement("div");
                card.className = "product-card";

                // Ê∑ªÂä†‰∏çÂêåÁöÑËæπÊ°ÜÈ¢úËâ≤
                const colors = ["#5e35b1", "#7e57c2", "#ff7043", "#4caf50"];

                card.innerHTML = `
                    <div style="font-size: 2rem; color: ${colors[index]}">${prod.map}</div>
                    <h3>${prod.name}</h3>
                    <div style="color: #666; font-size: 0.9rem">${prod.category}</div>
                    <div class="product-price">Êî∂Áõä: ${prod.actualIncome}</div>
                `;

                container.appendChild(card);
            });


            // ÊòæÁ§∫ÁªìÊûúÂå∫Âüü
            document.getElementById("results").style.display = "block";

            // ÊªöÂä®Âà∞ÁªìÊûúÂå∫Âüü
            document.getElementById("results").scrollIntoView({
                behavior: 'smooth'
            });
        }

        // È´ò‰∫ÆË°®Ê†º‰∏≠ÁöÑ‰∫ßÂìÅ
        function highlightProducts(bestProducts) {
            const table = document.getElementById("productTable");
            const rows = table.getElementsByTagName("tbody")[0].rows;

            // ÂÖàÊ∏ÖÈô§ÊâÄÊúâÈ´ò‰∫Æ
            for (let row of rows) {
                row.classList.remove("highlight");
            }

            // Ê∑ªÂä†È´ò‰∫Æ
            bestProducts.forEach(prod => {
                for (let row of rows) {
                    if (row.cells[0].textContent === prod.map) {
                        row.classList.add("highlight");
                        break;
                    }
                }
            });
        }

        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        window.addEventListener("DOMContentLoaded", initPage);
    </script>
</body>

</html>